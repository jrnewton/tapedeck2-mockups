<!DOCTYPE html>
<html lang="en">

<head>
  <title>Playback - Tape Deck</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="cassette-tape.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Monofett&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="playback.css">
  <script>
    function docReady(callback) {
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", callback);
      } else {
        callback();
      }
    }

    function toggleHidden(elem) {
      const hidden = elem.classList.contains("hidden");
      if (hidden) {
        // console.log("toggle hidden off");
        elem.classList.remove("hidden");
      }
      else {
        // console.log("toggle hidden on");
        elem.classList.add("hidden");
      }
    }

    docReady(() => {
      /* The station part of the spine will go direct to player 
         while the title part of the spine will expand the tape
         cover.  Clicking the cover will also toggle the display.
      */

      /* for each section, get the title and cover and setup
         click listeners */
      const elems = document.querySelectorAll(".tape__section");
      for (const e of elems) {
        const titleEl = e.querySelector(".tape__title");
        const coverEl = e.querySelector(".tape__cover");
        if (coverEl !== null) {
          coverEl.addEventListener("click", (event) => {
            toggleHidden(coverEl);
          });
          titleEl.addEventListener("click", (event) => {
            toggleHidden(coverEl);
          });
        }
      }
    });
  </script>
</head>

<body>
  <div id="flex-content">
    <header><a href="index.html">PLAYBACK</a></header>
    <main>
      <section class="tape__section">
        <a href="#" class="block">
          <div class="tape__spine">
            <a href="player.html" class="tape__station block">WMBR</a>
            <div class="tape__title">
              French Toast (3/30)
            </div>
          </div>
        </a>
        <div class="tape__cover hidden">
          <div class="line">All 80s songs</div>
          <div class="line">Air date: Mar 30, 2022</div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line">Downloaded on Apr 5</div>
        </div>
      </section>
      <section class="tape__section">
        <a href="#" class="block">
          <div class="tape__spine">
            <a href="player.html" class="tape__station block">WUMB</a>
            <div class="tape__title">
              Odyssey / Sep 17
            </div>
          </div>
        </a>
        <div class="tape__cover hidden">
          <div class="line">Eastern Europe Fiddle tunes</div>
          <div class="line">Air date: Sep 17, 2022</div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line">Downloaded on Sep 17</div>
        </div>
      </section>
      <section class="tape__section">
        <a href="#" class="block">
          <div class="tape__spine">
            <a href="player.html" class="tape__station block">WMBR</a>
            <div class="tape__title">
              The SurreaList
            </div>
          </div>
        </a>
        <div class="tape__cover hidden">
          <div class="line">Bird songs</div>
          <div class="line">Air date: Oct 12, 2023</div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
          <div class="line">Downloaded on Oct 13</div>
        </div>
      </section>
    </main>
    <footer>
      <a href="https://github.com/jrnewton/tapedeck2" target="_blank" rel="noopener">
        <img src="github-mark.png">
      </a>
    </footer>
  </div>
</body>

</html>